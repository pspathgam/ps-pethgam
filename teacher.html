<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Teacher Dashboard</title>
<style>
:root{--accent:#0f766e;--accent2:#ff6b6b;--accent3:#ffd166;--card-bg:rgba(255,255,255,0.94);--muted:#6b7280}
*{box-sizing:border-box}body{font-family:Inter,system-ui,Arial,sans-serif;margin:0;background:linear-gradient(120deg,#f3fbfa,#fff);color:#072;min-height:100vh}
.header{display:flex;align-items:center;gap:12px;padding:14px 18px;background:linear-gradient(90deg,var(--accent),#06b6d4);color:#fff}
.logo img{width:52px;height:52px;border-radius:8px;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.12)}
.container{max-width:1100px;margin:20px auto;padding:16px;position:relative;z-index:2}
.panel{background:var(--card-bg);padding:14px;border-radius:12px;box-shadow:0 12px 30px rgba(2,6,23,0.06);margin-bottom:14px}
.marquee{overflow:hidden;border-radius:10px;padding:8px;background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,255,255,0.8));margin:12px 0}
.marquee-inner{display:inline-block;white-space:nowrap;animation:marq 14s linear infinite}
.marq-item{display:inline-block;margin-right:22px;padding:6px 10px;border-radius:10px;background:var(--accent3);font-weight:700;color:#072}
@keyframes marq{0%{transform:translateX(100%)}100%{transform:translateX(-100%)}}
label{display:block;margin:8px 0;font-weight:700;color:#0b534e}input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(7,22,20,0.06);background:#fff}
.btn{display:inline-block;padding:10px 14px;border-radius:12px;border:none;cursor:pointer;color:#fff;font-weight:800;background:linear-gradient(180deg,var(--accent),#064e47);box-shadow:0 10px 20px rgba(12,74,70,0.12)}
.btn.coral{background:linear-gradient(180deg,var(--accent2),#e05555);box-shadow:0 10px 20px rgba(224,85,85,0.12)}
.small{font-size:0.9rem;color:var(--muted)}
.center{max-width:480px;margin:40px auto}
.hidden{display:none!important}
.feed-item{background:#fff;padding:10px;border-radius:10px;margin:8px 0;box-shadow:0 6px 16px rgba(2,6,23,0.04)}
</style>
</head>
<body>

<!-- login panel -->
<div id="loginPanel" class="center panel">
  <h2>Teacher Login</h2>
  <form id="loginForm">
    <label>User ID<input id="tUser" required></label>
    <label>Password<input id="tPass" type="password" required></label>
    <div style="display:flex;gap:8px">
      <button class="btn coral" type="submit">Login</button>
      <button type="button" id="firebaseHint" class="btn">Firebase Setup</button>
    </div>
    <p class="small">Demo credentials: <strong>teacher1 / 12345</strong></p>
  </form>
</div>

<!-- dashboard -->
<div id="dashboard" class="hidden">
  <header class="header"><div class="logo"><img src="logo.png" alt="logo"></div><h1>Teacher Dashboard</h1></header>

  <div class="container">
    <div class="marquee"><div class="marquee-inner" id="marq"><span class="marq-item">Welcome</span></div></div>

    <section class="panel">
      <h3>Publish Assignment</h3>
      <form id="assignForm">
        <label>Title<input id="assignTitle" required></label>
        <label>Class<select id="assignClass"><option>1st</option><option>2nd</option><option>3rd</option><option>4th</option><option>5th</option></select></label>
        <label>Subject<select id="assignSubject"><option>Mathematics</option><option>English</option><option>EVS</option><option>Urdu</option><option>Kashmiri</option></select></label>
        <label>Details<textarea id="assignDetails" rows="3"></textarea></label>
        <button class="btn coral" type="submit">Publish Assignment</button>
      </form>
    </section>

    <section class="panel">
      <h3>Publish Quiz (single Q demo)</h3>
      <form id="quizForm">
        <label>Title<input id="quizTitle" required></label>
        <label>Class<select id="quizClass"><option>1st</option><option>2nd</option><option>3rd</option><option>4th</option><option>5th</option></select></label>
        <label>Subject<select id="quizSubject"><option>Mathematics</option><option>English</option><option>EVS</option><option>Urdu</option><option>Kashmiri</option></select></label>
        <label>Question<input id="quizQuestion" required></label>
        <label>Option A<input id="quizA" required></label>
        <label>Option B<input id="quizB" required></label>
        <label>Option C<input id="quizC" required></label>
        <label>Correct<select id="quizCorrect"><option value="A">A</option><option value="B">B</option><option value="C">C</option></select></label>
        <button class="btn coral" type="submit">Publish Quiz</button>
      </form>
    </section>

    <section class="panel"><h3>Published Assignments</h3><div id="taskFeed"></div></section>
    <section class="panel"><h3>Published Quizzes</h3><div id="quizFeed"></div></section>
  </div>
</div>

<script>
/* demo credentials */
const demoTeacher = { user:'teacher1', pass:'12345' };

/* login */
document.getElementById('loginForm').addEventListener('submit', e=>{
  e.preventDefault();
  const u=document.getElementById('tUser').value, p=document.getElementById('tPass').value;
  if(u===demoTeacher.user && p===demoTeacher.pass){ showDashboard(u); } else { alert('Invalid teacher credentials'); }
});
document.getElementById('firebaseHint').addEventListener('click', ()=>alert('To use Firebase: add firebaseConfig to your page, enable Auth (email) and Firestore; I can generate the code for that.') );

function showDashboard(uid){
  document.getElementById('loginPanel').classList.add('hidden');
  document.getElementById('dashboard').classList.remove('hidden');
  document.getElementById('marq').innerHTML = '<span class="marq-item">Logged in as '+uid+'</span>';
  loadTasks(); loadQuizzes();
}

/* tasks */
function loadTasks(){
  const tasks = JSON.parse(localStorage.getItem('teacherTasks')||'[]');
  const area = document.getElementById('taskFeed');
  if(!tasks.length){ area.innerHTML = '<p class="small">No assignments yet</p>'; return; }
  area.innerHTML = tasks.map(t=>`<div class="feed-item"><strong>${t.title}</strong><div class="small">Class: ${t.class} | Subject: ${t.subject}</div><div class="small">${new Date(t.time).toLocaleString()}</div><p>${t.details}</p></div>`).join('');
}
document.getElementById('assignForm').addEventListener('submit', e=>{
  e.preventDefault();
  const tasks = JSON.parse(localStorage.getItem('teacherTasks')||'[]');
  tasks.unshift({ title:document.getElementById('assignTitle').value, class:document.getElementById('assignClass').value, subject:document.getElementById('assignSubject').value, details:document.getElementById('assignDetails').value, time:Date.now() });
  localStorage.setItem('teacherTasks', JSON.stringify(tasks));
  loadTasks(); alert('Assignment saved (local demo)'); e.target.reset();
});

/* quizzes */
function loadQuizzes(){
  const qs = JSON.parse(localStorage.getItem('teacherQuizzes')||'[]');
  const area = document.getElementById('quizFeed');
  if(!qs.length){ area.innerHTML = '<p class="small">No quizzes yet</p>'; return; }
  area.innerHTML = qs.map(q=>`<div class="feed-item"><strong>${q.title}</strong><div class="small">Class: ${q.class} | Subject: ${q.subject}</div><div class="small">${new Date(q.time).toLocaleString()}</div><p>Q: ${q.question}</p><div class="small">A) ${q.optionA} | B) ${q.optionB} | C) ${q.optionC} | Correct: ${q.correct}</div></div>`).join('');
}
document.getElementById('quizForm').addEventListener('submit', e=>{
  e.preventDefault();
  const qs = JSON.parse(localStorage.getItem('teacherQuizzes')||'[]');
  qs.unshift({ title:document.getElementById('quizTitle').value, class:document.getElementById('quizClass').value, subject:document.getElementById('quizSubject').value, question:document.getElementById('quizQuestion').value, optionA:document.getElementById('quizA').value, optionB:document.getElementById('quizB').value, optionC:document.getElementById('quizC').value, correct:document.getElementById('quizCorrect').value, time:Date.now() });
  localStorage.setItem('teacherQuizzes', JSON.stringify(qs));
  loadQuizzes(); alert('Quiz saved (local demo)'); e.target.reset();
});
</script>
</body></html>
}
</style>
</head>

<body>

<div id="loginScreen">
<h2>Teacher Login</h2>
<form id="loginForm">
<label>User ID:<input id="userId" required></label>
<label>Password:<input id="password" type="password" required></label>
<button type="submit" class="btn btn-coral">Login</button>
</form>
</div>

<div id="dashboard" style="display:none;">
<header class="header">
  <div class="logo">
    <img src="logo.png" alt="GPSP Logo" style="width:48px; height:48px; border-radius:8px;">
  </div>
  <h1>Teacher Dashboard</h1>
</header>
<div class="container">

<!-- Assignments -->
<section class="panel">
<h2>Publish New Assignment</h2>
<form id="assignForm">
<label>Assignment Title:<input id="assignTitle" required></label>
<label>For Class:
<select id="assignClass">
<option>1st</option><option>2nd</option><option>3rd</option>
<option>4th</option><option>5th</option></select></label>
<label>Subject:
<select id="assignSubject">
<option>Mathematics</option><option>English</option><option>EVS</option>
<option>Urdu</option><option>Kashmiri</option></select></label>
<label>Details:<textarea id="assignDetails" rows="4"></textarea></label>
<button type="submit" class="btn btn-coral">Publish Assignment</button>
</form>
</section>
<section class="panel">
<h2>Published Assignments</h2>
<div id="taskFeed"></div>
</section>

<!-- Quizzes -->
<section class="panel">
<h2>Publish New Quiz</h2>
<form id="quizForm">
<label>Quiz Title:<input id="quizTitle" required></label>
<label>For Class:
<select id="quizClass">
<option>1st</option><option>2nd</option><option>3rd</option>
<option>4th</option><option>5th</option></select></label>
<label>Subject:
<select id="quizSubject">
<option>Mathematics</option><option>English</option><option>EVS</option>
<option>Urdu</option><option>Kashmiri</option></select></label>
<label>Question:<input id="quizQuestion" placeholder="Enter question" required></label>
<label>Option A:<input id="quizOptionA" required></label>
<label>Option B:<input id="quizOptionB" required></label>
<label>Option C:<input id="quizOptionC" required></label>
<label>Correct Option:
<select id="quizCorrect"><option value="A">A</option><option value="B">B</option><option value="C">C</option></select>
</label>
<button type="submit" class="btn btn-coral">Publish Quiz</button>
</form>
</section>
<section class="panel">
<h2>Published Quizzes</h2>
<div id="quizFeed"></div>
</section>

</div>
</div>

<script>
// ======== Login ========
const credentials = {userId:"teacher1", password:"12345"};
document.getElementById('loginForm').addEventListener('submit', function(e){
  e.preventDefault();
  const uid=document.getElementById('userId').value;
  const pwd=document.getElementById('password').value;
  if(uid===credentials.userId && pwd===credentials.password){
    document.getElementById('loginScreen').style.display='none';
    document.getElementById('dashboard').style.display='block';
  }else{
    alert("Invalid User ID or Password");
  }
});

// ======== Assignments ========
function loadTasks(){
const tasks=JSON.parse(localStorage.getItem('teacherTasks')||'[]');
const area=document.getElementById('taskFeed');
if(!tasks.length){area.innerHTML="<p>No assignments posted yet.</p>";return;}
area.innerHTML=tasks.map(t=>`
<div class="task-item">
<strong>${t.title}</strong><br>
Class: ${t.class} | Subject: ${t.subject}<br>
<small>${new Date(t.time).toLocaleString()}</small><br><br>${t.details}
</div>`).join('');
}

document.getElementById('assignForm').addEventListener('submit',e=>{
e.preventDefault();
const title=document.getElementById('assignTitle').value;
const cls=document.getElementById('assignClass').value;
const subj=document.getElementById('assignSubject').value;
const det=document.getElementById('assignDetails').value;
const tasks=JSON.parse(localStorage.getItem('teacherTasks')||'[]');
tasks.unshift({title,class:cls,subject:subj,details:det,time:Date.now()});
localStorage.setItem('teacherTasks',JSON.stringify(tasks));
loadTasks();
alert("Assignment Published Successfully!");
e.target.reset();
});
loadTasks();

// ======== Quizzes ========
function loadQuizzes(){
const quizzes=JSON.parse(localStorage.getItem('teacherQuizzes')||'[]');
const area=document.getElementById('quizFeed');
if(!quizzes.length){area.innerHTML="<p>No quizzes published yet.</p>";return;}
area.innerHTML=quizzes.map(q=>`
<div class="quiz-item">
<strong>${q.title}</strong><br>
Class: ${q.class} | Subject: ${q.subject}<br>
Q: ${q.question}<br>
Options: A) ${q.optionA} | B) ${q.optionB} | C) ${q.optionC}<br>
Correct: ${q.correct}
</div>`).join('');
}

document.getElementById('quizForm').addEventListener('submit',e=>{
e.preventDefault();
const title=document.getElementById('quizTitle').value;
const cls=document.getElementById('quizClass').value;
const subj=document.getElementById('quizSubject').value;
const question=document.getElementById('quizQuestion').value;
const optionA=document.getElementById('quizOptionA').value;
const optionB=document.getElementById('quizOptionB').value;
const optionC=document.getElementById('quizOptionC').value;
const correct=document.getElementById('quizCorrect').value;
const quizzes=JSON.parse(localStorage.getItem('teacherQuizzes')||'[]');
quizzes.unshift({title,class:cls,subject:subj,question,optionA,optionB,optionC,correct,time:Date.now()});
localStorage.setItem('teacherQuizzes',JSON.stringify(quizzes));
loadQuizzes();
alert("Quiz Published Successfully!");
e.target.reset();
});
loadQuizzes();
</script>

</body>
</html>
